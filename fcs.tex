\glspl{NFCS} are system-level analysis tools
that allow tracking of material flow in a \gls{NFC}. Its
functionalities include, but are not limited to, isotopic decay,
depletion calculations, and separation of material streams.
The goal of a \gls{NFCS} is to calculate \textit{metrics} - quantitative
measures of performance that can be compared among fuel cycle
options \cite{huff_fundamental_2016}.

Table \ref{tab:fcs} lists the \glspl{NFCS}
that are considered in this section. The \glspl{NFCS}
listed generally are focused on one functionality
(e.g. multi-regional analysis, detailed isotopic tracking,
demand-driven deployment, cost analysis, sensitivity study)
but lack in the flexibility to perform other
functionalities \cite{huff_next_2010}. In
other words, no \gls{NFCS} has all the functionalities to
perform the superset of analysis types.

\begin{table}[h]
    \centering
    \caption{List of \glspl{NFCS} considered in this paper.
             Reproduced from \cite{huff_next_2010}}
    \label{tab:fcs}
    \begin{tabular}{lll}
        \hline
        Name & Developer & Reference(s) \\
        \hline
        CAFCA & MIT & \cite{guerin_benchmark_2009}\\
        COSI6 & CEA (Frane) & \cite{meyer_new_2009} \\
        DANESS & ANL & \cite{van_den_durpel_daness:_2006}\\
        DESAE2.1 & Rosatom (Russia) & \cite{tsibulskiy_desae_2006}\\
        EVOLCODE2 & CIEMAT (Spain) & \cite{alvarez-velarde_validation_2014}\\
        FAMILY21 & JAEA (Japan) & \cite{oecd_nuclear_2009}\\
        GENIUSv1 & INL & \cite{dunzik-gougar_global_2007}\\
        GENIUSv2 & Univ of Wisconsin & \cite{dunn_genius_2009}\\
        NFCSS & IAEA & \cite{iaea_guidance_2008}\\
        NFCSim & LANL & \cite{schneider_nfcsim:_2005} \\
        VISION & ANL/INL & \cite{jacobson_verifiable_2010} \\
        \hline
    \end{tabular}
\end{table}


\section{Capabilities required for modeling transition scenarios}
A study by Brown et al. \cite{brown_identification_2016}
identified nine common functionalities for \glspl{NFCS} for modeling
transition scenarios - material compositions, deployment of fuel
cycle facilities, front-end facility models, separations and material
recycle facilities, reactor facilities, back-end features, starting
the new fuel cycle, materials queuing and prioritization under
capacity limitations, and energy demand algorithms. Brown et al.
categorizes each functionality into three tiers - basic, integral,
and exemplary. The functionalities, features, and their hierarchies
are organized in table \ref{tab:ffh}.

\begin{table}[h]
    \centering
    \caption {Nine common functionalities identified for \gls{NFCS} to perform
    			fuel cycle transition scenarios. Reproduced from Brown et al. \cite{brown_identification_2016}}
    \label{tab:ffh}
    \begin{tabular}{lll}
        \hline
        \textbf{Functionality}&\textbf{Feature} &\textbf{Hierarchy} \\
        \hline
        \multirow{6}{*}{\shortstack{Composition \\ Features}} & \shortstack{Modeling of implicit consideration of fuel materials \\  including primary fissile and fertile actinide isotopes} & Basic \\
        	& \shortstack{Fuel's initial heavy metal mass modeled as lumped masses \\ of the remaining actinides and fission products to conserve mass} & Basic \\
        	& Isotopic decay of materials in storage & Exemplary \\
        	& Modeling of intermediate isotopes (e.g. Pa-233) & Exemplary \\
        	& Tracking of fission products beyond a simple lumped sum & Exemplary \\
        	& Modeling of compounding materials in fuels and waste forms & Exemplary\\

        \hline

        \multirow{3}{*}{\shortstack{Fuel Cycle \\ Facility \\ Deployment}} & Facility deployment and retirement & Basic \\
        	& Construction time delays & Basic \\
        	& Strategic deployment to meet demand &Integral \\

        \hline

        \multirow{6}{*}{\shortstack{Front-end \\ Facilities}} & Source (mining and milling) & Basic \\
        	& Details of mines and mills including annual and total quantities available & Exemplary \\
        	& Conversion and enrichment facilities & Basic \\
        	& Timing and capacity of recycle facilities & Basic \\
        	& Fuel fabrication & Basic \\
        	& Time delays and losses in separations and fabrication & Basic \\

        \hline

        \multirow{4}{*}{\shortstack{Separations \\ and \\ Material \\ Recycling}} & Separations facilities may be required for \gls{UNF} & Basic \\
        	& Cooling time & Basic \\
        	& Losses in separations & Basic \\
        	& Material selection from the \gls{UNF} supply & Basic \\

        \hline

        \multirow{6}{*}{\shortstack{Reactor \\ Facility}} & Fueling: number of batches, cycle length and fuel per batch & Basic \\
        	& Multiple fuel types in reactor facility (driver, blanket) & Basic \\
        	& Pre-generated charge and discharge isotopic compositions & Basic \\
        	& Real time calculations based on reactor physics models & Exemplary \\
        	& Reactor facility lifetime, construction time, and decommissioning time & Basic \\
        	& Initial charge for first core and discharge for final core & Basic \\

        \hline

        \multirow{2}{*}{Back-end} & Cooling of used fuel & Basic \\
        	& \shortstack{Conservation of mass - consistency with\\ charged mass and generated power} & Basic \\

        \hline

        \multirow{3}{*}{\shortstack{Fuel Cycle \\ Startup}} & External source of fissile material & Basic \\
        	& Startup on recycled fuel from other facilities &Integral \\
        	& Primary and back-up fuel types & Exemplary \\

        \hline

        \multirow{3}{*}{\shortstack{Material \\ Prioritization}} & Material accumulation & Basic \\
        	& Material prioritization &Integral \\
        	& Radioactive decay & Exemplary \\

        \hline

        \multirow{2}{*}{\shortstack{Energy Demand \\ Algorithm}} & Technology allocation accounting for availability &Integral \\
        	& Ordering and deployment of multiple reactor technologies &Integral \\
        \hline
    \end{tabular}
\end{table}

\section{Additional capabilities identified for real-world fuel cycle transition scenario}
I identified two additional functionalities beyond the ones identified by Brown et al \cite{brown_identification_2016}
for modeling real-world \gls{NFC} transition scenario -
modeling discrete, real-world reactor fleets and operational history; modeling liquid-fueled
reactors with continuous reprocessing.

\subsection{Modeling discrete, real-world reactor facilities}
For modeling real-world nuclear fuel cycle transition scenarios, the initial
condition (e.g. existing fissile inventory, existing reactor fleet) is important
to plan the transition scenario, such as reactor deployment
scheme, fuel type, and reactor design. This requires the \gls{NFCS} to correctly model the current fleet and its
remaining lifetime. The purpose of a fuel cycle is to produce power, thus the objective
function of a fuel cycle simulation is generally power demand. A transition
scenario involves advanced reactors (fast-spectrum reactors) filling in the
gap of decommissioned \glspl{LWR}.
Once the energy supply of the current fleet is calculated,
the analyst can determine the deployment scheme of future reactors to meet a certain
power demand in the future. Thus, it is important for the \gls{NFCS} to be able to simulate
discrete, real-world reactor fleets to have an accurate deployment scheme to
meet power demand. Additionally having discrete facilities will translate into
having a high-resolution calculation of the material flow as well.

\subsubsection{Discrete reactor facility modeling}
Discrete modeling of reactors allows a higher resolution of the power supply and
material flow. In the real world, especially in the United States, existing
reactors do not have the exact same power output or core size. This means that
lumping the reactor fleet together causes a loss in accuracy.

\glspl{NFCS} like COSI 6 \cite{meyer_new_2009}, EVOLCODE \cite{alvarez-velarde_validation_2014},
FAMILY21 \cite{oecd_nuclear_2009},
do have discrete facility modeling capabilities, while
DESAE2.2\cite{tsibulskiy_desae_2006}, and VISION \cite{jacobson_verifiable_2010} do
not \cite{boucher_international_2010}. Even for \glspl{NFCS} with discrete modeling
capabilities, some do not model distinct activities. For example, COSI models
reactors operating in sync \cite{boucher_benchmark_2012}.

Similarly, most \glspl{NFCS} do not treat disruption events (lack of fuel supply,
or decommissioning of a reactor)
discretely. For example, ORION shuts down the entire simulation if there
is a lack of fuel supply, and cannot decommission reactors mid-cycle.
DESAE `borrows' lacking fuel from storage (leaving a
negative value) instead of shutting down the reactor \cite{mccarthy_benchmark_2012}.

\subsubsection{Past work on modeling real-world fleets}
Modeling real-world fleets requires data about the current existing fleet,
such as power capacity, core size, and expected shutdown date (remaining lifetime).

One published study is done modeling the current U.S. nuclear fleet,
using ORION \cite{sunny_transition_2015}. However, this work is far from
modeling real-world U.S. nuclear fleet since it assumed an \gls{LWR} deployed power capacity
of 90 GWe in 2015, which decreases by 5 GWe every year starting from 2030,
meaning that no consideration is given to the actual shutdown dates of
existing reactors. This simplification stems from ORION modeling reactor as
a fleet governed by a power demand, not discrete facilities.

Another study on the U.S. \gls{NFC} transition scenario by Andrew Worrall \cite{utilization_worrall_2013}
models actual U.S. nuclear fleets using the \gls{PRIS} database, which is the same
method used for this work. However, the analysis is done using an extensive
network of Excel spreadsheet, and not an \gls{NFCS}.

There exists a study done on the French nuclear fuel cycle transition scenario
by Carre et al \cite{carre_overview_2009}, but it is unclear what tool they use.
[I emailed him to find out.]

However, modeling real-world fleets is possible in Cyclus, due to two major
reasons. First, Cyclus models
discrete facilities with their own events and material flow.
Second, Cyclus has a text-based input file structure, meaning that
the input files (and thus the scenario) can be generated from 
a database, which is what is done in this work.

\subsection{Modeling liquid-fueled reactors with continuous reprocessing}
\label{sec:msr}
\gls{MSR} reactor designs have recently gained attention due to 
their potential to be 
safer, more efficient, and sustainable \cite{serp_molten_2014}.
Multiple companies in the U.S. are now pursuing
commercialization of \gls{MSR} design reactors, such as Transatomic \cite{transatomic_power_corporation_technical_2016}
, Terrapower, Terrestrial \cite{leblanc_18_2017}, and
Thorcon \cite{jorgensen_19_2017}. Other parties such as China (TMSR-LF \cite{dai_17_2017}) ,
France (REBUS-3700 \cite{mourogov_potentialities_2006}),
and the European Union (MSFR \cite{heuer_towards_2014}, MOSART \cite{ignatiev_molten_2014})
are developing \gls{MSR} designs.

However, modeling an \gls{MSR} is challenging due to its online reprocessing
and continuously flowing fuel.
The material flow in and out of the reactor is continuous and dynamic, as well as the
composition inside the core.
The neutronics and depletion calculations have to be performed continuously while
the composition of the fuel changes by depletion and reprocessing.
Reactor physics and depletion calculations
on the \gls{MSR} have been done, notably by 
 Oak Ridge National Laboratory researchers who developed
ChemTriton \cite{powers_new_2013}, a python script that drives SCALE,
to perform semi-continuous reprocessing of the fuel \cite{powers_inventory_2014, betzler_fuel_2018}.
However, there is no existing \gls{NFCS} that has the capability to model \glspl{MSR}
due to the large computational burden associated with frequent depletion calculations.

This challenge of large computational time in an \gls{NFCS} can be overcome by `outsourcing' the computationally
heavy work to the higher-fidelity reactor physics and depletion codes. The output from the
high-fidelity codes can be saved as a database, which then Cyclus reads to model the behavior
corresponding to the \gls{MSR} design. For example, a high-fidelity code would run a certain
\gls{MSR} design for its lifetime, and the history of its feed and waste recorded in a
database. A Cyclus facility module would read this database and mimic the feed and removal
behavior listed in the database, effectively modeling \gls{MSR} interactions with the `market'.
This allows \gls{MSR} modeling in a larger-scale system analysis without heavy computational
burden, while securing fidelity of the depletion calculation.